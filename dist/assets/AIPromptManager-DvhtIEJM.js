import{h as b,r as i,G as n,j as e,q as j,H as v,R as N,I as y,A as S}from"./index-Bbx85iqt.js";import{C}from"./AdminDashboard-nwbYrp1b.js";const R=()=>{const{settings:c,updateSettings:d}=b(),[o,l]=i.useState(c.prompts||n),[m,a]=i.useState(!1),[t,p]=i.useState("individual_analysis"),x=(s,r)=>{l(g=>({...g,[s]:r})),a(!0)},u=()=>{d({prompts:o}),a(!1)},h=s=>{window.confirm("Reset this prompt to default?")&&(l(r=>({...r,[s]:n[s]})),a(!0))},f=Object.keys(n);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"})," AI Prompts"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the exact instructions sent to the AI for each feature."})]}),m&&e.jsxs("button",{onClick:u,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-9 px-4 py-2",children:[e.jsx(j,{className:"h-4 w-4 mr-2"})," Save Changes"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"md:col-span-1 space-y-1",children:f.map(s=>e.jsx("button",{onClick:()=>p(s),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${t===s?"bg-primary/10 text-primary":"hover:bg-muted text-muted-foreground"}`,children:s.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")},s))}),e.jsx("div",{className:"md:col-span-3 space-y-4",children:e.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg capitalize",children:t.split("_").join(" ")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v[t]})]}),e.jsxs("button",{onClick:()=>h(t),className:"text-xs flex items-center gap-1 text-muted-foreground hover:text-foreground",title:"Reset to default",children:[e.jsx(N,{className:"h-3 w-3"})," Reset"]})]}),e.jsx(y,{className:"sr-only",children:"Prompt Template"}),e.jsx("textarea",{value:o[t],onChange:s=>x(t,s.target.value),className:"w-full h-[400px] font-mono text-xs p-4 rounded-md border bg-muted/30 focus:bg-background transition-colors resize-none leading-relaxed",spellCheck:"false"}),e.jsxs("div",{className:"mt-4 flex gap-2 p-3 bg-amber-50/50 border border-amber-100 rounded-md text-amber-800 dark:bg-amber-900/10 dark:text-amber-200 dark:border-amber-800 text-xs",children:[e.jsx(S,{className:"h-4 w-4 shrink-0"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Caution:"})," The AI relies on specific JSON structures requested in these prompts. If you modify the JSON schema request, the application may fail to parse the response. Keep the JSON structure instructions intact."]})]})]})})]})]})};export{R as default};
